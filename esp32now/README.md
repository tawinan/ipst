# โปรเจกต์: ESP-NOW - หนึ่งผู้ส่ง, หลายผู้รับ

โปรเจกต์นี้สาธิตวิธีการใช้เทคโนโลยี ESP-NOW เพื่อส่งข้อมูลจากบอร์ด ESP32 (ผู้ส่ง/slave) หนึ่งตัวไปยังบอร์ด ESP32 (ผู้รับ/master) หลายตัวพร้อมกันโดยไม่ต้องใช้เราเตอร์ WiFi

- **`esp_now_sender`**: โค้ดสำหรับบอร์ดที่จะอ่านค่าจากเซ็นเซอร์ AHT20 และ BMP280 แล้วส่งข้อมูลออกไป
- **`esp_now_receiver`**: โค้ดสำหรับบอร์ดที่จะรับข้อมูลและแสดงผลทาง Serial Monitor

## ขั้นตอนการตั้งค่า

### 1. หา MAC Address ของบอร์ดผู้รับ (Master)

MAC Address คือที่อยู่เฉพาะของอุปกรณ์แต่ละตัว เราต้องรู้ MAC address ของบอร์ดผู้รับทุกตัวที่ต้องการให้ผู้ส่งส่งข้อมูลไปหา

1.  อัปโหลดโค้ดจากโปรเจกต์ `esp32c3mac` ไปยังบอร์ด **ผู้รับ** ทุกตัว
2.  เปิด Serial Monitor และจด MAC Address ที่แสดงขึ้นมา (เช่น `3C:71:BF:12:34:56`)

### 2. แก้ไขโค้ดของผู้ส่ง (Sender/Slave)

1.  เปิดไฟล์ `esp_now_sender/esp_now_sender.ino`
2.  มองหาส่วนที่เขียนว่า `// REPLACE WITH THE MAC ADDRESS OF YOUR RECEIVER(S)`
3.  แก้ไข `broadcastAddress1` โดยใส่ MAC Address ของบอร์ดผู้รับตัวแรกที่คุณจดไว้
    *   **ตัวอย่าง:** `uint8_t broadcastAddress1[] = {0x3C, 0x71, 0xBF, 0x12, 0x34, 0x56};`
4.  หากคุณมีผู้รับมากกว่าหนึ่งตัว, ให้เอาคอมเมนต์ `//` หน้า `broadcastAddress2` ออก และใส่ MAC Address ของผู้รับตัวที่สอง ทำซ้ำได้สูงสุด 20 ตัว
5.  **สำคัญ:** คุณต้องเพิ่มโค้ดบล็อก `esp_now_add_peer` สำหรับผู้รับแต่ละตัวด้วย

### 3. อัปโหลดโค้ด

1.  **สำหรับบอร์ดผู้ส่ง:** อัปโหลดโค้ด `esp_now_sender.ino` ไปยังบอร์ด ESP32 ที่เชื่อมต่อกับเซ็นเซอร์ AHT20 และ BMP280
2.  **สำหรับบอร์ดผู้รับ:** อัปโหลดโค้ด `esp_now_receiver.ino` ไปยังบอร์ด ESP32 ที่จะเป็นผู้รับข้อมูล (สามารถอัปโหลดไปยังบอร์ดผู้รับได้หลายตัว)

### 4. ดูผลลัพธ์

- เปิด Serial Monitor ของบอร์ด **ผู้ส่ง** เพื่อดูสถานะการส่งข้อมูล
- เปิด Serial Monitor ของบอร์ด **ผู้รับ** เพื่อดูข้อมูลเซ็นเซอร์ที่ได้รับจากผู้ส่ง
